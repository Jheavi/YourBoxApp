{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"E:\\\\Javier\\\\Visual Studio projects\\\\javi-final-project\\\\client\\\\src\\\\components\\\\Workout\\\\Workout.tsx\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport { connect } from 'react-redux';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport Modal from 'react-native-modal';\nimport { Calendar } from 'react-native-calendars';\nimport { loadWorkout } from \"../../redux/actions/workoutActions\";\nimport { extractDataFromTodayDate, extractDataFromDate } from \"../../utils/dateFunctions\";\nimport PropTypes from 'prop-types';\nimport FormModifyWorkout from \"./FormModifyWorkout/FormModifyWorkout\";\nvar image = {\n  uri: 'https://images.pexels.com/photos/2261477/pexels-photo-2261477.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940'\n};\nvar height = Dimensions.get('window').height;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexGrow: 1,\n    height: height\n  },\n  scrollContent: {\n    flexGrow: 1,\n    alignItems: 'center',\n    fontFamily: 'Roboto, Open Sans, sans-serif',\n    backgroundColor: '#0d0d0d'\n  },\n  square: {\n    maxWidth: '80%',\n    minWidth: '80%',\n    minHeight: '30%',\n    borderColor: 'white',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderWidth: 2,\n    height: 'auto',\n    marginBottom: 30,\n    position: 'relative'\n  },\n  workoutTextView: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: 'auto',\n    width: '100%'\n  },\n  workoutTitle: {\n    color: 'white',\n    fontSize: 26,\n    paddingTop: 20\n  },\n  workoutType: {\n    color: 'white',\n    textAlign: 'left',\n    paddingBottom: 10,\n    paddingTop: 10,\n    marginHorizontal: 30,\n    fontSize: 22\n  },\n  workoutText: {\n    color: 'white',\n    textAlign: 'left',\n    paddingBottom: 30,\n    paddingTop: 10,\n    marginHorizontal: 30,\n    fontSize: 22\n  },\n  modal: {\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  image: {\n    resizeMode: 'cover',\n    opacity: 0.4,\n    width: '100%',\n    height: '100%',\n    position: 'absolute',\n    top: 0,\n    marginBottom: 'auto',\n    marginTop: 'auto'\n  },\n  dayText: {\n    color: 'white',\n    marginTop: 20,\n    marginBottom: 10,\n    fontSize: 20\n  }\n});\nvar calendarTheme = {\n  textSectionTitleColor: '#cb1313',\n  calendarBackground: 'white',\n  selectedDayBackgroundColor: '#cb1313',\n  textDisabledColor: '#bbbbbb',\n  todayTextColor: '#cb1313',\n  arrowColor: 'white',\n  dayTextColor: 'black',\n  textMonthFontSize: 22,\n  monthTextColor: 'white',\n  textMonthBackground: '#cb1313',\n  'stylesheet.calendar.header': {\n    header: {\n      backgroundColor: '#cb1313',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      paddingLeft: 10,\n      paddingRight: 10,\n      alignItems: 'center'\n    }\n  },\n  'stylesheet.calendar.main': {\n    container: {\n      padding: 0,\n      backgroundColor: '#ffffff'\n    }\n  }\n};\n\nfunction Workout(_ref) {\n  var workout = _ref.workout,\n      dispatch = _ref.dispatch;\n\n  var _extractDataFromToday = extractDataFromTodayDate(),\n      todayString = _extractDataFromToday.todayString;\n\n  var _useState = useState(todayString),\n      _useState2 = _slicedToArray(_useState, 2),\n      displayedDay = _useState2[0],\n      setDisplayedDay = _useState2[1];\n\n  var _useState3 = useState(extractDataFromDate(displayedDay)),\n      _useState4 = _slicedToArray(_useState3, 2),\n      formattedDate = _useState4[0],\n      setFormattedDate = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      modalVisible = _useState6[0],\n      setModalVisible = _useState6[1];\n\n  var noWorkout = 'There is no workout for the selected day';\n  var scrollRef = useRef(null);\n  useEffect(function () {\n    dispatch(loadWorkout(todayString));\n  }, []);\n  useEffect(function () {\n    if (workout) {\n      setDisplayedDay(workout.date);\n    }\n  }, [workout]);\n  useEffect(function () {\n    if (displayedDay) {\n      setFormattedDate(extractDataFromDate(displayedDay));\n    }\n  }, [displayedDay]);\n\n  function scrollToStart() {\n    if (scrollRef.current) {\n      scrollRef.current.scrollTo({\n        x: 0,\n        y: 0,\n        animated: true\n      });\n    }\n  }\n\n  function onDayPress(day) {\n    dispatch(loadWorkout(day.dateString));\n    setDisplayedDay(day.dateString);\n    scrollToStart();\n  }\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    contentContainerStyle: styles.scrollContent,\n    scrollEnabled: true,\n    ref: scrollRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: styles.dayText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, formattedDate && formattedDate.day + \"/\" + formattedDate.month + \"/\" + formattedDate.year), React.createElement(View, {\n    style: styles.square,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }, React.createElement(ImageBackground, {\n    source: image,\n    style: styles.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 11\n    }\n  }), React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      setModalVisible(!modalVisible);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }, React.createElement(View, {\n    style: styles.workoutTextView,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.workoutTitle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 15\n    }\n  }, workout.title), React.createElement(Text, {\n    style: styles.workoutType,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 15\n    }\n  }, workout ? workout.type : noWorkout), React.createElement(Text, {\n    style: styles.workoutText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 15\n    }\n  }, workout.description), React.createElement(Modal, {\n    style: styles.modal,\n    animationIn: \"bounceIn\",\n    isVisible: modalVisible,\n    onBackButtonPress: function onBackButtonPress() {\n      setModalVisible(false);\n    },\n    onBackdropPress: function onBackdropPress() {\n      setModalVisible(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  }, React.createElement(FormModifyWorkout, {\n    todayString: todayString,\n    displayedDay: displayedDay,\n    setModalVisible: setModalVisible,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }))))), React.createElement(View, {\n    style: {\n      marginBottom: 30\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, React.createElement(Calendar, {\n    theme: calendarTheme,\n    firstDay: 1,\n    onDayPress: onDayPress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }))));\n}\n\nWorkout.propTypes = {\n  dispatch: PropTypes.func.isRequired\n};\n\nfunction mapStateToProps(state) {\n  return {\n    workout: state.workoutReducer.workout\n  };\n}\n\nexport default connect(mapStateToProps)(Workout);","map":{"version":3,"sources":["E:/Javier/Visual Studio projects/javi-final-project/client/src/components/Workout/Workout.tsx"],"names":["React","useEffect","useRef","useState","connect","Modal","Calendar","loadWorkout","extractDataFromTodayDate","extractDataFromDate","PropTypes","FormModifyWorkout","image","uri","height","Dimensions","get","styles","StyleSheet","create","container","flex","flexGrow","scrollContent","alignItems","fontFamily","backgroundColor","square","maxWidth","minWidth","minHeight","borderColor","display","justifyContent","borderWidth","marginBottom","position","workoutTextView","width","workoutTitle","color","fontSize","paddingTop","workoutType","textAlign","paddingBottom","marginHorizontal","workoutText","modal","resizeMode","opacity","top","marginTop","dayText","calendarTheme","textSectionTitleColor","calendarBackground","selectedDayBackgroundColor","textDisabledColor","todayTextColor","arrowColor","dayTextColor","textMonthFontSize","monthTextColor","textMonthBackground","header","flexDirection","paddingLeft","paddingRight","padding","Workout","workout","dispatch","todayString","displayedDay","setDisplayedDay","formattedDate","setFormattedDate","modalVisible","setModalVisible","noWorkout","scrollRef","date","scrollToStart","current","scrollTo","x","y","animated","onDayPress","day","dateString","month","year","title","type","description","propTypes","func","isRequired","mapStateToProps","state","workoutReducer"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { StyleSheet, View, ScrollView, ImageBackground, Dimensions, Text, TouchableWithoutFeedback } from 'react-native'\r\nimport Modal from 'react-native-modal'\r\nimport { Calendar, DateObject } from 'react-native-calendars'\r\nimport { loadWorkout } from '../../redux/actions/workoutActions'\r\nimport { extractDataFromTodayDate, extractDataFromDate } from '../../utils/dateFunctions'\r\nimport PropTypes from 'prop-types'\r\nimport FormModifyWorkout from './FormModifyWorkout/FormModifyWorkout'\r\n\r\nconst image = { uri: 'https://images.pexels.com/photos/2261477/pexels-photo-2261477.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940' }\r\nconst height = Dimensions.get('window').height\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexGrow: 1,\r\n    height\r\n  },\r\n  scrollContent: {\r\n    flexGrow: 1,\r\n    alignItems: 'center',\r\n    fontFamily: 'Roboto, Open Sans, sans-serif',\r\n    backgroundColor: '#0d0d0d'\r\n  },\r\n  square: {\r\n    maxWidth: '80%',\r\n    minWidth: '80%',\r\n    minHeight: '30%',\r\n    borderColor: 'white',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    borderWidth: 2,\r\n    height: 'auto',\r\n    marginBottom: 30,\r\n    position: 'relative'\r\n  },\r\n  workoutTextView: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    height: 'auto',\r\n    width: '100%'\r\n  },\r\n  workoutTitle: {\r\n    color: 'white',\r\n    fontSize: 26,\r\n    paddingTop: 20\r\n  },\r\n  workoutType: {\r\n    color: 'white',\r\n    textAlign: 'left',\r\n    paddingBottom: 10,\r\n    paddingTop: 10,\r\n    marginHorizontal: 30,\r\n    fontSize: 22\r\n  },\r\n  workoutText: {\r\n    color: 'white',\r\n    textAlign: 'left',\r\n    paddingBottom: 30,\r\n    paddingTop: 10,\r\n    marginHorizontal: 30,\r\n    fontSize: 22\r\n  },\r\n  modal: {\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  },\r\n  image: {\r\n    resizeMode: 'cover',\r\n    opacity: 0.4,\r\n    width: '100%',\r\n    height: '100%',\r\n    position: 'absolute',\r\n    top: 0,\r\n    marginBottom: 'auto',\r\n    marginTop: 'auto'\r\n  },\r\n  dayText: {\r\n    color: 'white',\r\n    marginTop: 20,\r\n    marginBottom: 10,\r\n    fontSize: 20\r\n  }\r\n})\r\n\r\nconst calendarTheme = {\r\n  textSectionTitleColor: '#cb1313',\r\n  calendarBackground: 'white',\r\n  selectedDayBackgroundColor: '#cb1313',\r\n  textDisabledColor: '#bbbbbb',\r\n  todayTextColor: '#cb1313',\r\n  arrowColor: 'white',\r\n  dayTextColor: 'black',\r\n  textMonthFontSize: 22,\r\n  monthTextColor: 'white',\r\n  textMonthBackground: '#cb1313',\r\n  'stylesheet.calendar.header': {\r\n    header: {\r\n      backgroundColor: '#cb1313',\r\n      flexDirection: 'row',\r\n      justifyContent: 'space-between',\r\n      paddingLeft: 10,\r\n      paddingRight: 10,\r\n      alignItems: 'center'\r\n    }\r\n  },\r\n  'stylesheet.calendar.main': {\r\n    container: {\r\n      padding: 0,\r\n      backgroundColor: '#ffffff'\r\n    }\r\n  }\r\n}\r\n\r\nfunction Workout ({ workout, dispatch }: any) {\r\n  const { todayString } = extractDataFromTodayDate()\r\n  const [displayedDay, setDisplayedDay] = useState(todayString)\r\n  const [formattedDate, setFormattedDate] = useState(extractDataFromDate(displayedDay))\r\n  const [modalVisible, setModalVisible] = useState(false)\r\n  const noWorkout = 'There is no workout for the selected day'\r\n  const scrollRef = useRef<ScrollView>(null)\r\n\r\n  useEffect(() => {\r\n    dispatch(loadWorkout(todayString))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (workout) {\r\n      setDisplayedDay(workout.date)\r\n    }\r\n  }, [workout])\r\n\r\n  useEffect(() => {\r\n    if (displayedDay) {\r\n      setFormattedDate(extractDataFromDate(displayedDay))\r\n    }\r\n  }, [displayedDay])\r\n\r\n  function scrollToStart () {\r\n    if (scrollRef.current) {\r\n      scrollRef.current.scrollTo({\r\n        x: 0,\r\n        y: 0,\r\n        animated: true\r\n      })\r\n    }\r\n  }\r\n\r\n  function onDayPress (day: DateObject) {\r\n    dispatch(loadWorkout(day.dateString))\r\n    setDisplayedDay(day.dateString)\r\n    scrollToStart()\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <ScrollView\r\n        contentContainerStyle={styles.scrollContent}\r\n        scrollEnabled={true}\r\n        ref={scrollRef}\r\n      >\r\n        <Text style={styles.dayText}>{formattedDate && `${formattedDate.day}/${formattedDate.month}/${formattedDate.year}`}</Text>\r\n        <View style={styles.square}>\r\n          <ImageBackground source={image} style={styles.image} />\r\n          <TouchableWithoutFeedback onPress={() => { setModalVisible(!modalVisible) }}>\r\n            <View style={styles.workoutTextView}>\r\n              <Text style={styles.workoutTitle}>{workout.title}</Text>\r\n              <Text style={styles.workoutType}>{workout ? workout.type : noWorkout}</Text>\r\n              <Text style={styles.workoutText}>{workout.description}</Text>\r\n              <Modal\r\n                style={styles.modal}\r\n                animationIn=\"bounceIn\"\r\n                isVisible={modalVisible}\r\n                onBackButtonPress={() => { setModalVisible(false) }}\r\n                onBackdropPress={() => { setModalVisible(false) }}\r\n                >\r\n                <FormModifyWorkout todayString={todayString} displayedDay={displayedDay} setModalVisible={setModalVisible}/>\r\n              </Modal>\r\n            </View>\r\n          </TouchableWithoutFeedback>\r\n        </View>\r\n        <View style={{ marginBottom: 30 }}>\r\n          <Calendar\r\n            theme={calendarTheme}\r\n            firstDay={1}\r\n            onDayPress={onDayPress}\r\n          />\r\n        </View>\r\n      </ScrollView>\r\n    </View>\r\n  )\r\n}\r\n\r\nWorkout.propTypes = {\r\n  dispatch: PropTypes.func.isRequired\r\n}\r\n\r\nfunction mapStateToProps (state: any) {\r\n  return {\r\n    workout: state.workoutReducer.workout\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Workout)\r\n"]},"metadata":{},"sourceType":"module"}